function getUrlVars(){for(var t,e=[],o=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),s=0;s<o.length;s++)t=o[s].split("="),e.push(t[0]),e[t[0]]=t[1];return e}function errMsg(t){var e='\t\t<div id="profile_err_msg" class="ui negative message" style=\'text-align:center;\'>\t\t<i class="close icon"></i>\t\t<div class="header">\t\tError!\t\t</div>\t\t<p>'+t+"</p>\t\t</div>";return e}function sucMsg(t){var e='\t\t<div id="profile_err_msg" class="ui success message" style=\'text-align:center;\'>\t\t<i class="close icon"></i>\t\t<div class="header">\t\tSuccess!\t\t</div>\t\t<p>'+t+"</p>\t\t</div>";return e}$(function(){$(".comments").each(function(){$date=$(this).find("#commentDate").text(),$(this).find("#commentDate").text(moment($date).fromNow()),$date=$(this).find("#editedDate").text(),$(this).find("#editedDate").text(moment($date).fromNow())}),$("#questions .items").each(function(t,e){$date=$(this).find("#post-date").text(),$(this).find("#post-date").text(moment($date).fromNow())})}),$(function(){$(".question-page #post-date").text(moment($("#post-date").text()).fromNow()),$(".question-page #post-date-ago").text(moment($("#post-date-ago").text()).fromNow()),$("#sidebar-content .item").each(function(t,e){$date=$(this).find("#sidebar-date").text(),$(this).find("#sidebar-date").text(moment($date).fromNow())})}),$(".ui.dropdown").dropdown(),$(function(){var t;_popup=$(".user-title"),_popup.hover(function(){t=$(this).attr("user-id")});var e='<i class="spinner loading icon green"></i> wait...';_popup.popup({on:"hover",exclusive:!0,hoverable:!0,position:"top left",html:e,variation:"wide",transition:"vertical flip",onShow:function(e){var o=this;$.ajax({url:"/controllers/_profile.php",data:{action:"profile_card",id:t},type:"post"}).done(function(t){o.html(t)}).fail(function(){o.html("error")})}})}),$(document).on("click","#user_flw",function(){_this=$(this),id=_this.attr("user-id"),_this.addClass("loading"),$.ajax({url:"/controllers/_profile.php",type:"post",data:{action:"follow",id:id},dataType:"json",success:function(t,e){1==t.status?(_this.removeClass("loading"),_this.removeClass("green"),_this.addClass("blue"),_this.addClass("following"),_this.text("Following"),_this.attr("id","user_unflw")):(_this.removeClass("loading"),error=t.err,$(".profile-body").prepend(errMsg(error)))},error:function(t,e,o){console.log("ERRORS: "+e)}})}),$(document).on("click","#user_unflw",function(){_this=$(this),id=_this.attr("user-id"),_this.addClass("loading"),$.ajax({url:"/controllers/_profile.php",type:"post",data:{action:"unfollow",id:id},dataType:"json",success:function(t,e){1==t.status?(_this.removeClass("loading"),_this.removeClass("blue"),_this.addClass("green"),_this.removeClass("following"),_this.text("Follow"),_this.attr("id","user_flw")):(_this.removeClass("loading"),error=t.err,$(".profile-body").prepend(errMsg("unknown error!")))},error:function(t,e,o){console.log("ERRORS: "+e)}})}),$(document).on("mouseover","#user_unflw",function(){$(this).text("unFollow"),$(this).removeClass("blue"),$(this).addClass("red")}),$(document).on("mouseleave","#user_unflw",function(){$(this).text("Following"),$(this).removeClass("red"),$(this).addClass("blue")}),$(document).on("click",".close.icon",function(){$(this).closest(".message").transition("fade")});