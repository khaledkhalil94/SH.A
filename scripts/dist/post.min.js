$(function(){$(document).on("click","#votebtn",function(t){t.preventDefault(),_this=$(this),$postID=$("#post-page").attr("post-id"),$("#votebtn").addClass("loading"),_this.hasClass("voted")?$.ajax({url:"/controllers/_question.php",type:"post",dataType:"json",data:{action:"downvote",id:$postID},success:function(t,e){if("success"==e){$("#votescount").removeClass("red"),$(_this).removeClass("red voted loading"),$(_this).addClass("grey"),$("#votescount").addClass("grey"),$("#votebtn").find("span").text("Like");var o=parseInt($("#votescount").text())-1;$("#votescount").text(o)}},error:function(t,e,o){console.log(t),console.log("Details: "+e+"\nError:"+o)}}):$.ajax({url:"/controllers/_question.php",type:"post",dataType:"json",data:{action:"upvote",id:$postID},success:function(t,e){if(1==t.status){$(_this).removeClass("loading grey"),$(_this).addClass("red voted"),$("#votescount").removeClass("grey"),$("#votescount").addClass("red"),$("#votebtn").find("span").text("unLike");var o=parseInt($("#votescount").text())+1;$("#votescount").text(o)}},error:function(t,e,o){console.log(t),console.log("Details: "+e+"\nError:"+o)}})})}),$(function(){$(document).on("click","#post-delete",function(t){t.preventDefault(),$(".ui.modal.post.delete").modal("show")}),$("#post-confirmDel").click(function(t){t.stopPropagation(),$postID=$("#post-page").attr("post-id"),$(".modal.post.delete .segment").addClass("loading"),$.ajax({url:"/controllers/_question.php",type:"post",dataType:"json",data:{action:"post_delete",id:$postID},success:function(t,e){if(1==t.status)window.location.replace("./");else{var o='\t\t\t\t\t\t\t\t<div class="ui error message">\t\t\t\t\t\t\t\t<i class="close icon" id="post-errmsg-close-icon"></i>\t\t\t\t\t\t\t\t<div class="header">\t\t\t\t\t\t\t\tError!\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t<ul class="list">\t\t\t\t\t\t\t\t<h3>'+t.err+"</h3>\t\t\t\t\t\t\t\t</ul>\t\t\t\t\t\t\t\t</div>";$(".modal.post.delete .segment").removeClass("loading").addClass("raised padded"),$("#post-delete").parent().removeClass("active selected"),$(".modal.post.delete .segment").children().remove(),$(".modal.post.delete .segment").append(o),$("#post-errmsg-close-icon").click(function(t){$(".modal.post.delete").modal("hide")})}},error:function(t,e,o){console.log(t),console.log("Details: "+e+"\nError:"+o)}})})}),$(".ui.dropdown").dropdown();